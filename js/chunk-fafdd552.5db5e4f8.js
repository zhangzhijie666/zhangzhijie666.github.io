(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fafdd552"],{"0418":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isLeft,expression:"isLeft"}],staticClass:"header-button is-left"},[a("i",{staticClass:"fa fa-chevron-left"}),a("button",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])]),a("h1",{staticClass:"header-title"},[e._v(e._s(e.title))])])},n=[],r={name:"Header",props:{title:String,isLeft:{type:Boolean,default:!1}},setup:function(e,t){t.root;return{}}},c=r,o=(a("7817"),a("2877")),i=Object(o["a"])(c,s,n,!1,null,"2d15fc2c",null);t["a"]=i.exports},"0e45":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addAddress"},[a("Header",{attrs:{isLeft:!0,title:e.title}}),a("div",{staticClass:"viewbody"},[a("div",{staticClass:"content"},[a("FormBlock",{attrs:{label:"联系人",placeholder:"姓名",sex:e.addressInfo.sex,tags:e.sexes},on:{checkSex:e.checkSex},model:{value:e.addressInfo.name,callback:function(t){e.$set(e.addressInfo,"name",t)},expression:"addressInfo.name"}}),a("FormBlock",{attrs:{label:"电话",placeholder:"手机号码"},model:{value:e.addressInfo.phone,callback:function(t){e.$set(e.addressInfo,"phone",t)},expression:"addressInfo.phone"}}),a("FormBlock",{attrs:{label:"地址",placeholder:"小区/写字楼/学校等",icon:"angle-right"},on:{click:function(t){e.showSearch=!0}},model:{value:e.addressInfo.address,callback:function(t){e.$set(e.addressInfo,"address",t)},expression:"addressInfo.address"}}),a("FormBlock",{attrs:{label:"门牌号",placeholder:"10号楼5单元404",icon:"edit",textarea:"textarea"},model:{value:e.addressInfo.bottom,callback:function(t){e.$set(e.addressInfo,"bottom",t)},expression:"addressInfo.bottom"}}),a("div",{staticClass:"formblock"},[a("div",{staticClass:"label-wrap"},[e._v("标签")]),a("TabTag",{attrs:{tags:e.tags,selectTag:e.addressInfo.tag},on:{checkTag:e.checkTag}})],1)],1),a("div",{staticClass:"form-button-wrap"},[a("button",{staticClass:"form-button",on:{click:e.handleSave}},[e._v("确定")])])]),a("AddressSearch",{attrs:{addressInfo:e.addressInfo,showSearch:e.showSearch},on:{close:function(t){e.showSearch=!1}}})],1)},n=[],r=(a("99af"),a("b0c0"),a("0418")),c=a("a6f4"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"formblock"},[a("div",{staticClass:"label-wrap"},[e._v(e._s(e.label))]),a("div",{staticClass:"input-group-wrap",on:{click:function(t){return e.$emit("click")}}},[a("div",{staticClass:"input-wrap"},[e.textarea?a("textarea",{attrs:{rows:"2",maxlength:"100",type:e.type,placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}):a("input",{attrs:{type:e.type,placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),e.icon?a("i",{class:"fa fa-"+e.icon}):e._e()]),e.tags?a("TabTag",{attrs:{selectTag:e.sex,tags:e.tags},on:{checkTag:e.checkTag}}):e._e()],1)])},i=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-wrap"},e._l(e.tags,(function(t,s){return a("span",{key:s,staticClass:"form-span",class:{checked:e.selectTag==t},on:{click:function(a){return e.$emit("checkTag",t)}}},[e._v(" "+e._s(t)+" ")])})),0)},u=[],d={name:"TabTag",props:{tags:Array,selectTag:String},setup:function(e){return Object(c["d"])((function(){})),{}}},f=d,p=(a("9438"),a("2877")),h=Object(p["a"])(f,l,u,!1,null,"3eec26a7",null),v=h.exports,b={name:"FormBlock",components:{TabTag:v},props:{type:{type:String,default:"text"},label:String,value:String,placeholder:String,icon:String,textarea:String,tags:Array,sex:String},setup:function(e,t){var a=t.emit,s=function(e){a("checkSex",e)};return{checkTag:s}}},g=b,m=(a("4ed5"),Object(p["a"])(g,o,i,!1,null,"dd8db89c",null)),x=m.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.showSearch?a("div",{staticClass:"addressSearch"},[a("div",{staticClass:"search-view"},[a("div",{staticClass:"search-box"},[a("div",{staticClass:"search-box-input"},[a("i",{staticClass:"fa fa-search"}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.search_address,expression:"search_address"}],attrs:{type:"text",placeholder:"请输入小区/写字楼/学校等"},domProps:{value:e.search_address},on:{input:function(t){t.target.composing||(e.search_address=t.target.value)}}})]),a("button",{staticClass:"search-box-btn",on:{click:function(t){return e.$emit("close")}}},[e._v("取消")])]),a("ul",{staticClass:"search-list"},e._l(e.areaList,(function(t,s){return a("li",{key:s,staticClass:"search-row",on:{click:function(a){return e.selectAddress(t)}}},[a("p",{staticClass:"search-row-title"},[e._v(e._s(t.name))]),a("p",{staticClass:"search-row-location"},[e._v(e._s(t.district)+e._s(t.address))])])})),0)])]):e._e()},k=[],w=(a("ac1f"),a("841c"),{name:"AddressSearch",props:{showSearch:Boolean,addressInfo:Object},setup:function(e,t){var a=t.root,s=t.emit,n=Object(c["f"])(""),r=Object(c["f"])([]);Object(c["h"])((function(){return n.value}),(function(e){o(e)}));var o=function(e){AMap.plugin("AMap.Autocomplete",(function(){var t={city:i.value},a=new AMap.Autocomplete(t);a.search(e,(function(e,t){r.value=t.tips}))}))},i=Object(c["a"])((function(){return a.$store.getters.location.addressComponent.city||a.$store.getters.location.addressComponent.province})),l=function(t){e.addressInfo.address=t.name+t.district+t.address,s("close")};return{search_address:n,searchPlace:o,city:i,areaList:r,selectAddress:l}}}),S=w,C=(a("c951"),Object(p["a"])(S,_,k,!1,null,"034d71e4",null)),I=C.exports,T=a("76a0"),y=a("bc3a"),$=a.n(y),j={name:"AddAddress",components:{Header:r["a"],FormBlock:x,TabTag:v,AddressSearch:I},beforeRouteEnter:function(e,t,a){a((function(t){t.addressInfo=e.params.addressInfo,t.title=e.params.title}))},setup:function(e,t){var a=t.root,s=Object(c["f"])(""),n=Object(c["e"])(["家","学校","公司"]),r=Object(c["e"])(["先生","女士"]),o=Object(c["f"])(!1),i=Object(c["f"])({}),l=function(e){i.value.tag=e},u=function(e){i.value.sex=e},d=function(){i.value.name?i.value.phone?i.value.address?"添加地址"==s.value?p():h():f("请输入收货地址"):f("请输入手机号码"):f("请输入联系人")};Object(c["d"])((function(){}));var f=function(e){Object(T["Toast"])({message:e,position:"bottom",duration:5e3})},p=function(){$.a.post("/api/user/add_address/".concat(localStorage.ele_login),i.value).then((function(e){a.$store.getters.userInfo||a.$store.dispatch("setUserInfo",i.value),a.$router.push("myAddress")})).catch((function(e){console.log(e)}))},h=function(){$.a.post("/api/user/edit_address/".concat(localStorage.ele_login,"/").concat(i.value._id),i.value).then((function(e){a.$router.push("myAddress")})).catch((function(e){console.log(e)}))};return{title:s,tags:n,checkTag:l,addressInfo:i,checkSex:u,handleSave:d,sexes:r,showSearch:o}}},O=j,A=(a("6422"),Object(p["a"])(O,s,n,!1,null,"4ff676d2",null));t["default"]=A.exports},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"1dde":function(e,t,a){var s=a("d039"),n=a("b622"),r=a("2d00"),c=n("species");e.exports=function(e){return r>=51||!s((function(){var t=[],a=t.constructor={};return a[c]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"2c93":function(e,t,a){},"4ed5":function(e,t,a){"use strict";a("667d")},"61b4":function(e,t,a){},6422:function(e,t,a){"use strict";a("b492")},"667d":function(e,t,a){},7817:function(e,t,a){"use strict";a("2c93")},8418:function(e,t,a){"use strict";var s=a("c04e"),n=a("9bf2"),r=a("5c6c");e.exports=function(e,t,a){var c=s(t);c in e?n.f(e,c,r(0,a)):e[c]=a}},"841c":function(e,t,a){"use strict";var s=a("d784"),n=a("825a"),r=a("1d80"),c=a("129f"),o=a("14c3");s("search",1,(function(e,t,a){return[function(t){var a=r(this),s=void 0==t?void 0:t[e];return void 0!==s?s.call(t,a):new RegExp(t)[e](String(a))},function(e){var s=a(t,e,this);if(s.done)return s.value;var r=n(e),i=String(this),l=r.lastIndex;c(l,0)||(r.lastIndex=0);var u=o(r,i);return c(r.lastIndex,l)||(r.lastIndex=l),null===u?-1:u.index}]}))},9438:function(e,t,a){"use strict";a("a42c")},"99af":function(e,t,a){"use strict";var s=a("23e7"),n=a("d039"),r=a("e8b5"),c=a("861d"),o=a("7b0b"),i=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),f=a("b622"),p=a("2d00"),h=f("isConcatSpreadable"),v=9007199254740991,b="Maximum allowed index exceeded",g=p>=51||!n((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),m=d("concat"),x=function(e){if(!c(e))return!1;var t=e[h];return void 0!==t?!!t:r(e)},_=!g||!m;s({target:"Array",proto:!0,forced:_},{concat:function(e){var t,a,s,n,r,c=o(this),d=u(c,0),f=0;for(t=-1,s=arguments.length;t<s;t++)if(r=-1===t?c:arguments[t],x(r)){if(n=i(r.length),f+n>v)throw TypeError(b);for(a=0;a<n;a++,f++)a in r&&l(d,f,r[a])}else{if(f>=v)throw TypeError(b);l(d,f++,r)}return d.length=f,d}})},a42c:function(e,t,a){},b0c0:function(e,t,a){var s=a("83ab"),n=a("9bf2").f,r=Function.prototype,c=r.toString,o=/^\s*function ([^ (]*)/,i="name";s&&!(i in r)&&n(r,i,{configurable:!0,get:function(){try{return c.call(this).match(o)[1]}catch(e){return""}}})},b492:function(e,t,a){},c951:function(e,t,a){"use strict";a("61b4")}}]);
//# sourceMappingURL=chunk-fafdd552.5db5e4f8.js.map