{"version":3,"sources":["webpack:///./src/views/Shops/Goods.vue?cab6","webpack:///./src/views/Shops/ShopCart.vue?e085","webpack:///./src/components/Shops/CartControll.vue?f40c","webpack:///./src/views/Shops/Goods.vue?2c64","webpack:///./src/components/Shops/CartControll.vue?8fe6","webpack:///src/components/Shops/CartControll.vue","webpack:///./src/components/Shops/CartControll.vue?7ef7","webpack:///./src/components/Shops/CartControll.vue","webpack:///./src/views/Shops/ShopCart.vue?1ba3","webpack:///src/views/Shops/ShopCart.vue","webpack:///./src/views/Shops/ShopCart.vue?90dc","webpack:///./src/views/Shops/ShopCart.vue","webpack:///./src/views/Shops/Food.vue?5cd9","webpack:///src/views/Shops/Food.vue","webpack:///./src/views/Shops/Food.vue?35ca","webpack:///./src/views/Shops/Food.vue","webpack:///src/views/Shops/Goods.vue","webpack:///./src/views/Shops/Goods.vue?a328","webpack:///./src/views/Shops/Goods.vue","webpack:///./src/views/Shops/Food.vue?4b8d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","shopInfo","recommend","index","key","_v","_s","name","item","attrs","image_path","month_sales","satisfy_rate","activity","fixed_price","ref","on","$event","selectMenu","icon_url","_e","description","food","i","handleFood","selectedFood","showFood","staticRenderFns","count","stopPropagation","decreaseCount","increaseCount","component","showCartView","isEmpty","target","currentTarget","clearFoods","class","totalCount","totalPrice","toFixed","rst","float_delivery_fee","float_minimum_order_amount","settlement","$emit"],"mappings":"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","file":"js/chunk-3eaf5486.49a08a03.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Goods.vue?vue&type=style&index=0&id=50f4da71&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopCart.vue?vue&type=style&index=0&id=2c6f8c2f&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartControll.vue?vue&type=style&index=0&id=04e25d6f&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.shopInfo)?_c('div',{staticClass:\"goods\"},[_vm._l((_vm.shopInfo.recommend),function(recommend,index){return _c('div',{key:index,staticClass:\"recommend\"},[_c('p',{staticClass:\"recommend-name\"},[_vm._v(_vm._s(recommend.name))]),_c('div',{staticClass:\"recommend-wrap\"},[_c('ul',_vm._l((recommend.items),function(item,index){return _c('li',{key:index},[_c('img',{attrs:{\"src\":item.image_path,\"alt\":\"\"}}),_c('div',{staticClass:\"recommend-food\"},[_c('p',{staticClass:\"recommend-food-name\"},[_vm._v(_vm._s(item.name))]),_c('p',{staticClass:\"recommend-food-zm\"},[_vm._v(\"月售\"+_vm._s(item.month_sales)+\" 好评率\"+_vm._s(item.satisfy_rate)+\"%\")])]),_c('div',{staticClass:\"recommend-food-price\"},[_c('p',[_vm._v(\"￥\"+_vm._s(item.activity.fixed_price))]),_c('CartControll',{attrs:{\"food\":item}})],1)])}),0)])])}),_c('div',{staticClass:\"menuview\"},[_c('div',{ref:\"menuScroll\",staticClass:\"menu-wrapper\"},[_c('ul',_vm._l((_vm.shopInfo.menu),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.selectMenu(index)}}},[(item.icon_url)?_c('img',{attrs:{\"src\":item.icon_url,\"alt\":\"\"}}):_vm._e(),_c('span',[_vm._v(_vm._s(item.name))])])}),0)]),_c('div',{ref:\"foodScroll\",staticClass:\"foods-wrapper\"},[_c('ul',_vm._l((_vm.shopInfo.menu),function(item,index){return _c('li',{key:index,staticClass:\"food-list-hook\"},[_c('div',{staticClass:\"category-title\"},[_c('strong',[_vm._v(_vm._s(item.name))]),_c('span',[_vm._v(_vm._s(item.description))])]),_vm._l((item.foods),function(food,i){return _c('div',{key:i,staticClass:\"fooddetails\",on:{\"click\":function($event){return _vm.handleFood(food)}}},[_c('img',{attrs:{\"src\":food.image_path,\"alt\":\"\"}}),_c('section',{staticClass:\"fooddetails-info\"},[_c('h4',[_vm._v(_vm._s(food.name))]),_c('p',{staticClass:\"fooddetails-des\"},[_vm._v(_vm._s(food.description))]),_c('p',{staticClass:\"fooddetails-sales\"},[_vm._v(\"月售\"+_vm._s(food.month_sales)+\"份 好评率\"+_vm._s(food.satisfy_rate)+\"%\")]),_c('div',{staticClass:\"fooddetails-price\"},[_c('span',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(food.activity.fixed_price))]),_c('CartControll',{attrs:{\"food\":food}})],1)])])})],2)}),0)])]),_c('ShopCart',{attrs:{\"shopInfo\":_vm.shopInfo}}),_c('Food',{attrs:{\"food\":_vm.selectedFood,\"isShow\":_vm.showFood},on:{\"close\":function($event){_vm.showFood=false}}})],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cartcontroll\"},[(_vm.food.count>0)?_c('span',{staticClass:\"cartbutton button-minus\",on:{\"click\":function($event){$event.stopPropagation();return _vm.decreaseCount($event)}}},[_c('i',{staticClass:\"fa fa-minus\"})]):_vm._e(),(_vm.food.count>0)?_c('span',{staticClass:\"cartcount\"},[_vm._v(_vm._s(_vm.food.count))]):_vm._e(),_c('span',{staticClass:\"cartbutton\",on:{\"click\":function($event){$event.stopPropagation();return _vm.increaseCount($event)}}},[_c('i',{staticClass:\"fa fa-plus-circle\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"cartcontroll\">\r\n      <span @click.stop='decreaseCount' class=\"cartbutton button-minus\" v-if=\"food.count>0\">\r\n          <i class=\"fa fa-minus\"></i>\r\n      </span>\r\n      <span class=\"cartcount\" v-if=\"food.count>0\">{{food.count}}</span>\r\n      <span class=\"cartbutton\" @click.stop='increaseCount'>\r\n          <i class=\"fa fa-plus-circle\"></i>\r\n      </span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'CartControll',\r\n    props: {\r\n        food:Object\r\n    },\r\n    setup(props){\r\n        const decreaseCount=()=>{\r\n            props.food.count--\r\n        }\r\n        const increaseCount=()=>{\r\n            props.food.count++\r\n        }\r\n        return {\r\n            decreaseCount,\r\n            increaseCount\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.cartcontroll {\r\n  display: inline-flex;\r\n  align-items: center;\r\n}\r\n.cartbutton {\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n}\r\n.cartbutton i {\r\n  color: rgb(35, 149, 255);\r\n  vertical-align: middle;\r\n  font-size: 1.5rem;\r\n}\r\n.button-minus {\r\n  width: 4.866667vw;\r\n  height: 4.866667vw;\r\n  border: 1px solid rgb(35, 149, 255);\r\n  border-radius: 50%;\r\n  text-align: center;\r\n}\r\n.button-minus i {\r\n  font-size: 1rem;\r\n}\r\n.cartcount {\r\n  display: inline-block;\r\n  text-align: center;\r\n  color: rgba(0, 0, 0, 0.87);\r\n  vertical-align: middle;\r\n  font-size: 0.8rem;\r\n  width: 6.933333vw;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartControll.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartControll.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CartControll.vue?vue&type=template&id=04e25d6f&scoped=true&\"\nimport script from \"./CartControll.vue?vue&type=script&lang=js&\"\nexport * from \"./CartControll.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CartControll.vue?vue&type=style&index=0&id=04e25d6f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04e25d6f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shopcart\"},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.showCartView && !_vm.isEmpty)?_c('div',{staticClass:\"cartview-cartmask\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.showCartView=false}}},[_c('div',{staticClass:\"cartview-cartbody\"},[_c('div',{staticClass:\"cartview-cartheader\"},[_c('span',[_vm._v(\"已选商品\")]),_c('button',{on:{\"click\":_vm.clearFoods}},[_c('i',{staticClass:\"fa fa-trash-o\"}),_c('span',[_vm._v(\"清空\")])])]),_c('div',{staticClass:\"entityList-cartbodyScroller\"},[_c('ul',{staticClass:\"entityList-cartlist\"},_vm._l((_vm.selectFoods),function(food,index){return _c('li',{key:index,staticClass:\"entityList-entityrow\"},[_c('h1',[_c('span',[_vm._v(_vm._s(food.name))])]),_c('span',{staticClass:\"entityList-entitytotal\"},[_vm._v(_vm._s(food.activity.fixed_price))]),_c('CartControll',{attrs:{\"food\":food}})],1)}),0)])])]):_vm._e()]),_c('div',{staticClass:\"bottomNav-cartfooter\",class:{'bottomNav-carticon-empty':_vm.isEmpty}},[_c('span',{staticClass:\"bottomNav-carticon\",on:{\"click\":function($event){_vm.showCartView=!_vm.showCartView}}},[_c('i',{staticClass:\"fa fa-cart-plus\"}),(_vm.totalCount)?_c('span',[_vm._v(_vm._s(_vm.totalCount))]):_vm._e()]),_c('div',{staticClass:\"bottomNav-cartInfo\",on:{\"click\":function($event){_vm.showCartView=!_vm.showCartView}}},[_c('p',{staticClass:\"bottomNav-carttotal\"},[(_vm.isEmpty)?_c('span',[_vm._v(\"未选购商品\")]):_c('span',[_vm._v(\"￥\"+_vm._s(_vm.totalPrice.toFixed(2)))])]),_c('p',{staticClass:\"bottomNav-cartdelivery\"},[_vm._v(\" 另需配送费\"+_vm._s(_vm.shopInfo.rst.float_delivery_fee)+\"元 \")])]),_c('button',{staticClass:\"submit-btn\"},[(_vm.isEmpty)?_c('span',[_vm._v(\"￥\"+_vm._s(_vm.shopInfo.rst.float_minimum_order_amount)+\"元起送\")]):_c('span',{on:{\"click\":_vm.settlement}},[_vm._v(\"去结算\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"shopcart\">\r\n        <transition name=\"fade\">\r\n            <div class=\"cartview-cartmask\" @click.self='showCartView=false' v-if=\"showCartView && !isEmpty\">\r\n            <div class=\"cartview-cartbody\">\r\n                <div class=\"cartview-cartheader\">\r\n                    <span>已选商品</span>\r\n                    <button @click='clearFoods'>\r\n                        <i class=\"fa fa-trash-o\"></i>\r\n                        <span>清空</span>\r\n                    </button>\r\n                </div>\r\n                <div class=\"entityList-cartbodyScroller\">\r\n                    <ul class=\"entityList-cartlist\">\r\n                        <li class=\"entityList-entityrow\" v-for=\"(food,index) in selectFoods\" :key=\"index\">\r\n                            <h1>\r\n                                <span>{{food.name}}</span>\r\n                            </h1>\r\n                            <span class=\"entityList-entitytotal\">{{food.activity.fixed_price}}</span>\r\n                            <CartControll :food='food'/>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </transition>\r\n        \r\n        <div class=\"bottomNav-cartfooter\" :class=\"{'bottomNav-carticon-empty':isEmpty}\">\r\n            <span class=\"bottomNav-carticon\" @click='showCartView=!showCartView'>\r\n                <i class=\"fa fa-cart-plus\"></i>\r\n                <span v-if=\"totalCount\">{{totalCount}}</span>\r\n            </span>\r\n            <div class=\"bottomNav-cartInfo\" @click='showCartView=!showCartView'>\r\n                <p class=\"bottomNav-carttotal\" >\r\n                    <span v-if=\"isEmpty\">未选购商品</span>\r\n                    <span v-else>￥{{totalPrice.toFixed(2)}}</span>\r\n                </p>\r\n                <p class=\"bottomNav-cartdelivery\">\r\n                    另需配送费{{shopInfo.rst.float_delivery_fee}}元\r\n                </p>\r\n            </div>\r\n            <button class=\"submit-btn\">\r\n                <span v-if=\"isEmpty\">￥{{shopInfo.rst.float_minimum_order_amount}}元起送</span>\r\n                <span v-else @click='settlement'>去结算</span>\r\n            </button>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {computed,onMounted,ref} from '@vue/composition-api'\r\nimport CartControll from '../../components/Shops/CartControll'\r\n    export default {\r\n        name: 'ShopCart',\r\n        props: {\r\n            shopInfo: Object\r\n        },\r\n        components: {\r\n            CartControll\r\n        },\r\n        setup(props,{root}){\r\n            const totalCount=ref(0)\r\n            const totalPrice=ref(0)\r\n            const selectFoods=ref([])\r\n            const showCartView=ref(false)\r\n            const isEmpty =computed(() => {\r\n                let empty =true\r\n                totalCount.value=0\r\n                totalPrice.value=0\r\n                selectFoods.value=[]\r\n                props.shopInfo.recommend.forEach(recommend=>{\r\n                    recommend.items.forEach(item =>{\r\n                        if(item.count){\r\n                            empty =false\r\n                            totalCount.value+=item.count\r\n                            totalPrice.value+=item.activity.fixed_price*item.count\r\n                            selectFoods.value.push(item)\r\n                        }\r\n                    })\r\n                })\r\n\r\n                props.shopInfo.menu.forEach(menu=>{\r\n                    menu.foods.forEach(food =>{\r\n                        if(food.count){\r\n                            empty =false\r\n                            totalCount.value+=food.count\r\n                             totalPrice.value+=food.activity.fixed_price*food.count\r\n                             selectFoods.value.push(food)\r\n                        }\r\n                    })\r\n                })\r\n\r\n                return empty\r\n            })\r\n\r\n            const clearFoods=()=>{\r\n                props.shopInfo.recommend.forEach(recommend=>{\r\n                    recommend.items.forEach(item=>{\r\n                        item.count=0\r\n                    })\r\n                })\r\n\r\n                props.shopInfo.menu.forEach(menu=>{\r\n                    menu.foods.forEach(food=>{\r\n                        food.count=0\r\n                    })\r\n                })\r\n            }\r\n\r\n            const settlement=()=>{\r\n              root.$store.dispatch('setOrderInfo',{shopInfo:props.shopInfo.rst,selectFoods:selectFoods.value})\r\n              root.$router.push('/settlement')\r\n              // console.log('aa');\r\n            }\r\n            onMounted(()=>{\r\n                // console.log(props.shopInfo);\r\n                // console.log(selectFoods.value);\r\n            })\r\n            return {\r\n                isEmpty,\r\n                totalCount,\r\n                totalPrice,\r\n                selectFoods,\r\n                showCartView,\r\n                clearFoods,\r\n                settlement\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n.bottomNav-cartfooter {\r\n  position: fixed;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  padding-left: 21.066667vw;\r\n  background-color: rgba(61, 61, 63, 0.9);\r\n  height: 12.8vw;\r\n  z-index: 1000;\r\n}\r\n\r\n.bottomNav-carticon {\r\n  position: absolute;\r\n  left: 3.2vw;\r\n  bottom: 2vw;\r\n  width: 13.333333vw;\r\n  height: 13.333333vw;\r\n  box-sizing: border-box;\r\n  border-radius: 100%;\r\n  background-color: #3190e8;\r\n  border: 1.333333vw solid #444;\r\n  box-shadow: 0 -0.8vw 0.533333vw 0 rgba(0, 0, 0, 0.1);\r\n}\r\n.bottomNav-carticon > i {\r\n  position: absolute;\r\n  top: 7px;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 7px;\r\n  color: #fff;\r\n  font-size: 1.6rem;\r\n}\r\n.bottomNav-cartInfo {\r\n  flex: 1;\r\n}\r\n.bottomNav-carttotal {\r\n  font-size: 0.8rem;\r\n  line-height: normal;\r\n  color: #fff;\r\n}\r\n.bottomNav-cartdelivery {\r\n  color: #999;\r\n  font-size: 0.6rem;\r\n}\r\n.submit-btn {\r\n  height: 100%;\r\n  width: 28vw;\r\n  background-color: #38ca73;\r\n  color: #fff;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  font-size: 0.9rem;\r\n  font-weight: 600;\r\n  line-height: 12.8vw;\r\n  border: none;\r\n  outline: none;\r\n}\r\n\r\n.bottomNav-carticon-empty > span {\r\n  background-image: radial-gradient(circle, #363636 6.266667vw, #444 0);\r\n}\r\n.bottomNav-carticon-empty > span > i {\r\n  color: #606065 !important;\r\n}\r\n.bottomNav-carticon-empty .bottomNav-carttotal > span {\r\n  color: #999;\r\n}\r\n.bottomNav-carticon-empty .submit-btn {\r\n  background-color: #535356 !important;\r\n}\r\n\r\n.bottomNav-carticon > span {\r\n  position: absolute;\r\n  right: -1.2vw;\r\n  top: -1.333333vw;\r\n  line-height: 1;\r\n  background-image: linear-gradient(-90deg, #ff7416, #ff3c15 98%);\r\n  color: #fff;\r\n  border-radius: 3.2vw;\r\n  padding: 0.833333vw 1.333333vw;\r\n  font-size: 0.6rem;\r\n}\r\n\r\n.cartview-cartmask {\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  z-index: 200;\r\n}\r\n.cartview-cartbody {\r\n  position: fixed;\r\n  left: 0;\r\n  width: 100%;\r\n  background-color: #fff;\r\n  bottom: 12.8vw;\r\n  z-index: 201;\r\n  opacity: 1;\r\n  font-size: 1rem;\r\n}\r\n.cartview-cartheader {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 4vw;\r\n  border-bottom: 0.133333vw solid #ddd;\r\n  background-color: #eceff1;\r\n  color: #666;\r\n  height: 10.666667vw;\r\n}\r\n.cartview-cartheader > span {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.cartview-cartheader > button {\r\n  border: none;\r\n  outline: none;\r\n  flex: none;\r\n  display: flex;\r\n  align-items: center;\r\n  padding-left: 4vw;\r\n  color: #666;\r\n  text-decoration: none;\r\n  font-size: 0.8rem;\r\n  line-height: 4vw;\r\n  background: none;\r\n}\r\n.cartview-cartheader > button > span {\r\n  margin-left: 0.8vw;\r\n}\r\n.entityList-cartbodyScroller {\r\n  overflow: auto;\r\n  max-height: 80vw;\r\n}\r\n.entityList-entityrow {\r\n  border-bottom: 0.133333vw solid #eee;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 2vw 3.333333vw 2vw 0;\r\n  min-height: 12.666667vw;\r\n  margin-left: 3.333333vw;\r\n}\r\n.entityList-entityrow > h4 {\r\n  flex: 5.5;\r\n  line-height: normal;\r\n}\r\n.entityList-entityrow > h4 > span {\r\n  display: inline-block;\r\n  font-style: normal;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  vertical-align: middle;\r\n  max-width: 46.666667vw;\r\n}\r\n.entityList-entitytotal {\r\n  color: rgb(255, 83, 57);\r\n  flex: 2.5;\r\n  text-align: right;\r\n  margin-right:10%;\r\n  white-space: nowrap;\r\n  font-weight: bold;\r\n}\r\n.entityList-entitytotal::before {\r\n  content: \"\\A5\";\r\n  font-size: 0.6rem;\r\n  color: currentColor;\r\n}\r\n\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity 0.25s ease-out;\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopCart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopCart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShopCart.vue?vue&type=template&id=2c6f8c2f&scoped=true&\"\nimport script from \"./ShopCart.vue?vue&type=script&lang=js&\"\nexport * from \"./ShopCart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShopCart.vue?vue&type=style&index=0&id=2c6f8c2f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c6f8c2f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"move\"}},[(_vm.isShow)?_c('div',{staticClass:\"food\"},[_c('div',{staticClass:\"foodpanel-close\",on:{\"click\":function($event){return _vm.$emit('close')}}},[_c('img',{attrs:{\"src\":\"https://fuss10.elemecdn.com/8/ba/bcfa8cc62b20e044bd2ea1c1c7f3dpng.png?imageMogr/format/webp/\",\"alt\":\"\"}})]),_c('div',{staticClass:\"foodpanel-body\"},[_c('div',{staticClass:\"foodpanel-foodimg\"},[_c('img',{attrs:{\"src\":_vm.food.image_path,\"alt\":\"\"}})]),_c('div',{staticClass:\"foodpanel-foodinfo\"},[_c('h4',[_vm._v(_vm._s(_vm.food.name))]),_c('div',{staticClass:\"foodpanel-foodsales\"},[_c('span',[_vm._v(\"月售\"+_vm._s(_vm.food.month_sales))]),_c('span',[_vm._v(\"好评率 \"+_vm._s(_vm.food.satisfy_rate))])]),_c('div',{staticClass:\"foodpanel-priceLine\"},[_c('span',[_vm._v(\"￥\"+_vm._s(_vm.food.activity.fixed_price))]),_c('CartControll',{staticClass:\"cart-btn\",attrs:{\"food\":_vm.food}})],1),_c('p',[_vm._v(_vm._s(_vm.food.description))])])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<transition name=\"move\">\r\n\r\n\r\n  <div class=\"food\" v-if=\"isShow\">\r\n      <div class=\"foodpanel-close\" @click=\"$emit('close')\">\r\n          <img src=\"https://fuss10.elemecdn.com/8/ba/bcfa8cc62b20e044bd2ea1c1c7f3dpng.png?imageMogr/format/webp/\" alt=\"\">\r\n      </div>\r\n      <div class=\"foodpanel-body\">\r\n          <div class=\"foodpanel-foodimg\">\r\n              <img :src=\"food.image_path\" alt=\"\">\r\n          </div>\r\n          <div class=\"foodpanel-foodinfo\">\r\n              <h4>{{food.name}}</h4>\r\n              <div class=\"foodpanel-foodsales\">\r\n                  <span>月售{{food.month_sales}}</span>\r\n                  <span>好评率 {{food.satisfy_rate}}</span>\r\n              </div>\r\n              <div class=\"foodpanel-priceLine\">\r\n                  <span>￥{{food.activity.fixed_price}}</span>\r\n                  <CartControll class=\"cart-btn\" :food='food'/>\r\n              </div>\r\n              <p>{{food.description}}</p>\r\n          </div>\r\n      </div>\r\n  </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport {onMounted} from '@vue/composition-api'\r\nimport CartControll from '../../components/Shops/CartControll'\r\nexport default {\r\n    name: 'Food',\r\n    props: {\r\n        food:Object,\r\n        isShow:Boolean\r\n    },\r\n    components: {\r\n        CartControll\r\n    },\r\n    setup(props){\r\n        onMounted(()=>{\r\n            // console.log(props.food);\r\n            // console.log(props.isShow);\r\n        })\r\n        return{\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.food {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n  z-index: 100;\r\n}\r\n.foodpanel-close {\r\n  width: 7.466667vw;\r\n  height: 7.466667vw;\r\n  border-radius: 50%;\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: absolute;\r\n  z-index: 1;\r\n  top: 2.133333vw;\r\n  right: 4vw;\r\n}\r\n.foodpanel-close img {\r\n  width: 5.333333vw;\r\n  height: 5.333333vw;\r\n}\r\n.foodpanel-body {\r\n  position: relative;\r\n  background-color: #fff;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow-y: auto;\r\n  padding-bottom: 20vw;\r\n  box-sizing: border-box;\r\n  overflow-x: hidden;\r\n}\r\n.foodpanel-foodimg {\r\n  width: 100%;\r\n  height: 100vw;\r\n  display: block;\r\n}\r\n.foodpanel-foodimg img {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.foodpanel-foodinfo {\r\n  padding: 4vw 4vw 0;\r\n  width: 100%;\r\n  min-height: 29.333333vw;\r\n}\r\n.foodpanel-foodinfo h4 {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 2.4vw;\r\n  font-size: 1.2rem;\r\n  font-weight: 700;\r\n  width: 74.666667vw;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n.foodpanel-foodsales {\r\n  font-size: 0.8rem;\r\n  color: #666;\r\n  line-height: 1;\r\n  margin-bottom: 2.4vw;\r\n}\r\n.foodpanel-priceLine {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 2.4vw;\r\n  position: relative;\r\n}\r\n.foodpanel-priceLine > span {\r\n  font-size: 1rem;\r\n  line-height: 4.266667vw;\r\n  color: #ff5339;\r\n  padding-bottom: 0.933333vw;\r\n  display: flex;\r\n  align-items: baseline;\r\n}\r\n.foodpanel-priceLine .cart-btn {\r\n  position: absolute;\r\n  right: 8vw;\r\n}\r\n.foodpanel-foodinfo > p {\r\n  font-size: 0.8rem;\r\n  color: #666;\r\n  line-height: 3.733333vw;\r\n  padding-right: 8vw;\r\n}\r\n\r\n.move-enter-active,\r\n.move-leave-active {\r\n  transition: all 0.25s ease-in;\r\n  transform: translate(0, -500px);\r\n}\r\n\r\n.move-enter,\r\n.move-leave-to {\r\n  transform: translate(0, 500px);\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Food.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Food.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Food.vue?vue&type=template&id=d07fb964&scoped=true&\"\nimport script from \"./Food.vue?vue&type=script&lang=js&\"\nexport * from \"./Food.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Food.vue?vue&type=style&index=0&id=d07fb964&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d07fb964\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"goods\" v-if=\"shopInfo\">\r\n      <!-- 商家推荐 -->\r\n      <div class=\"recommend\" v-for=\"(recommend,index) in shopInfo.recommend\" :key=\"index\">\r\n          <p class='recommend-name'>{{recommend.name}}</p>\r\n          <div class=\"recommend-wrap\">\r\n              <ul>\r\n                  <li v-for=\"(item,index) in recommend.items\" :key=\"index\">\r\n                      <img :src=\"item.image_path\" alt=\"\">\r\n                      <div class=\"recommend-food\">\r\n                          <p class=\"recommend-food-name\">{{item.name}}</p>\r\n                          <p class=\"recommend-food-zm\">月售{{item.month_sales}} 好评率{{item.satisfy_rate}}%</p>\r\n                      </div>\r\n                      <div class=\"recommend-food-price\">\r\n                          <p>￥{{item.activity.fixed_price}}</p>\r\n                          <CartControll :food='item'/>\r\n                      </div>\r\n                  </li>\r\n              </ul>\r\n          </div>\r\n      </div>\r\n      <!-- 商品分类 -->\r\n      <div class=\"menuview\">\r\n        <!-- 左侧分类列表 -->\r\n       <div class=\"menu-wrapper\" ref=\"menuScroll\">\r\n          <ul>\r\n            <li  @click='selectMenu(index)' v-for=\"(item,index) in shopInfo.menu\" :key=\"index\">\r\n              <img v-if=\"item.icon_url\" :src=\"item.icon_url\" alt=\"\">\r\n              <span>{{item.name}}</span>\r\n            </li>\r\n        </ul>\r\n       </div>\r\n\r\n       <!-- 右侧商品内容 -->\r\n       <div class=\"foods-wrapper\" ref=\"foodScroll\">\r\n         <ul>\r\n           <li class=\"food-list-hook\" v-for=\"(item,index) in shopInfo.menu\" :key=\"index\">\r\n             <!-- 内容上 -->\r\n             <div class=\"category-title\">\r\n               <strong>{{item.name}}</strong>\r\n               <span>{{item.description}}</span>\r\n             </div>\r\n             <!-- 内容下 -->\r\n             <div @click=\"handleFood(food)\" class=\"fooddetails\" v-for=\"(food,i) in item.foods\" :key=\"i\">\r\n               <!-- 左 -->\r\n                <img :src=\"food.image_path\" alt=\"\">\r\n                <!-- 右 -->\r\n                <section class=\"fooddetails-info\">\r\n                  <h4>{{food.name}}</h4>\r\n                  <p class=\"fooddetails-des\">{{food.description}}</p>\r\n                  <p class=\"fooddetails-sales\">月售{{food.month_sales}}份 好评率{{food.satisfy_rate}}%</p>\r\n                  <div class=\"fooddetails-price\">\r\n                    <span class=\"price\">￥{{food.activity.fixed_price}}</span>\r\n                    <CartControll :food='food' />\r\n                  </div>\r\n                </section>\r\n             </div>\r\n           </li>\r\n         </ul>\r\n       </div>\r\n      </div>\r\n\r\n      <!-- 购物车 -->\r\n      <ShopCart :shopInfo='shopInfo'/>\r\n\r\n      <!-- 商品详情 -->\r\n      <Food :food='selectedFood' :isShow='showFood' @close='showFood=false'/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {ref,onMounted,nextTick,computed} from '@vue/composition-api'\r\nimport axios from 'axios'\r\nimport CartControll from '../../components/Shops/CartControll'\r\nimport ShopCart from './ShopCart'\r\nimport BScroll from 'better-scroll'\r\nimport Food from './Food'\r\nexport default {\r\n    name:'Goods',\r\n    components: {\r\n        CartControll,\r\n        ShopCart,\r\n        Food\r\n    },\r\n    setup(props,{refs}){\r\n        const shopInfo=ref(null)\r\n        const menuScroll = ref({})//左侧滚动对象\r\n        const foodScroll=ref({})//右侧滚动对象\r\n        const scrollY=ref(0) //右侧菜单当前滚动到的y值\r\n        const listHeight=ref([])//12个区列的高度\r\n        const selectedFood=ref(null)\r\n        const showFood=ref(false)\r\n        const getData=()=>{\r\n            axios.get('/api/profile/batch_shop').then(res=>{\r\n                // console.log(res.data);\r\n                res.data.recommend.forEach(recommend=>{\r\n                    recommend.items.forEach(item=>{\r\n                        item.count=0\r\n                    })\r\n                })\r\n\r\n                res.data.menu.forEach(menu=>{\r\n                    menu.foods.forEach(food=>{\r\n                        food.count=0\r\n                    })\r\n                })\r\n\r\n                shopInfo.value=res.data\r\n                // console.log(shopInfo.value);\r\n                nextTick(()=>{\r\n                  //DOM已经更新\r\n                  initScroll()\r\n                  //计算12个区高度\r\n                  calculateHeight()\r\n                })\r\n            })\r\n        }\r\n\r\n        const initScroll =()=>{\r\n          menuScroll.value=new BScroll(refs.menuScroll,{\r\n            click:true\r\n          })\r\n\r\n          foodScroll.value=new BScroll(refs.foodScroll,{\r\n            probeType:3,\r\n            click:true\r\n          })\r\n          // console.log(foodScroll.value);\r\n          foodScroll.value.on('scroll',pos=>{\r\n            // console.log(pos.y);\r\n            scrollY.value=Math.abs(Math.round(pos.y))\r\n          })\r\n        }\r\n\r\n        const selectMenu=(index)=>{\r\n          // console.log(index);\r\n          let foodlist=refs.foodScroll.getElementsByClassName('food-list-hook')\r\n\r\n          let el=foodlist[index]\r\n          // console.log(el);\r\n          //滚动到对应的位置\r\n          foodScroll.value.scrollToElement(el,250)\r\n        }\r\n\r\n        const calculateHeight=() =>{\r\n          let foodlist=refs.foodScroll.getElementsByClassName('food-list-hook')\r\n          // console.log(foodlist);\r\n          //每个区的高度添加到数组中\r\n          let height=0\r\n          listHeight.value.push(height)\r\n\r\n          for(let i=0;i<foodlist.length-1;i++){\r\n            let item=foodlist[i]\r\n            //累加\r\n            height+=item.clientHeight\r\n            listHeight.value.push(height)\r\n          }\r\n          // console.log(listHeight.value);\r\n        }\r\n\r\n        // const currentIndex=computed(() => {\r\n        //   //根据右侧滚动的位置,确定对应的索引下标\r\n        //   for(let i=0; i<listHeight.value.length; i++){\r\n        //     let height1=listHeight.value[i];\r\n        //     let height2=listHeight.value[i+1];\r\n\r\n        //     //判断是否在俩个高度之间\r\n        //     if(scrollY.value>=height1 && scrollY.value<height2){\r\n        //       return i\r\n        //     }\r\n        //   }\r\n        //   return 0\r\n        // })\r\n\r\n        const handleFood=(food)=>{\r\n          selectedFood.value=food\r\n          showFood.value=true\r\n        }\r\n\r\n        onMounted(()=>{\r\n            getData()\r\n        })\r\n        return {\r\n            shopInfo,\r\n            menuScroll,\r\n            foodScroll,\r\n            selectMenu,\r\n            scrollY,\r\n            listHeight,\r\n            // currentIndex,\r\n            handleFood,\r\n            selectedFood,\r\n            showFood\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.goods {\r\n  position: relative;\r\n  height: calc(100% - 10.666667vw);\r\n}\r\n\r\n.recommend {\r\n  padding-top: 4.266667vw;\r\n  background-color: #fff;\r\n}\r\n.recommend-name {\r\n  padding-left: 4.266667vw;\r\n  color: #333;\r\n  font-size: 1rem;\r\n  font-weight: 700;\r\n  margin-bottom: 2.666667vw;\r\n}\r\n.recommend-wrap {\r\n  overflow-x: scroll;\r\n  display: flex;\r\n  width: 100%;\r\n}\r\n.recommend-wrap ul {\r\n  display: flex;\r\n  padding-left: 4.266667vw;\r\n}\r\n.recommend-wrap ul li {\r\n  flex: none;\r\n  width: 32vw;\r\n  margin-right: 2.666667vw;\r\n}\r\n.recommend-wrap li img {\r\n  display: block;\r\n  width: 32vw;\r\n  height: 32vw;\r\n  border-top-left-radius: 0.8vw;\r\n  border-top-right-radius: 0.8vw;\r\n  max-width: 100%;\r\n}\r\n.recommend-food .recommend-food-name {\r\n  color: #333;\r\n  font-size: 0.8rem;\r\n  margin: 1.866667vw 0 1.233333vw;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n}\r\n.recommend-food .recommend-food-zm {\r\n  color: #999;\r\n  font-size: 0.6rem;\r\n  margin-bottom: 1.866667vw;\r\n  min-height: 1em;\r\n}\r\n.recommend-food-price {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding-right: 0.266667vw;\r\n}\r\n.recommend-food-price p {\r\n  font-size: 1rem;\r\n  color: #ff5339;\r\n}\r\n\r\n::-webkit-scrollbar {\r\n  width: 0 !important;\r\n}\r\n\r\n.menuview {\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n  padding-bottom: 10.8vw;\r\n  background-color: #fff;\r\n  display: flex;\r\n}\r\n.menu-wrapper {\r\n  overflow-y: hidden;\r\n  /* height: 100%; */\r\n  height: calc(100% - 12.8vw);\r\n  background-color: #f8f8f8;\r\n  padding-bottom: 10.666667vw;\r\n  width: 20.533333vw;\r\n}\r\n.menu-wrapper li {\r\n  padding: 4.666667vw 2vw;\r\n  font-size: 0.6rem;\r\n  color: #666;\r\n  line-height: 1.2;\r\n}\r\n.menu-wrapper li img {\r\n  max-width: 100%;\r\n  width: 3.466667vw;\r\n  height: 3.466667vw;\r\n  vertical-align: top;\r\n  margin-right: 0.8vw;\r\n}\r\n\r\n.foods-wrapper {\r\n  overflow-y: hidden;\r\n  /* height: 100%; */\r\n  height: calc(100% - 12.8vw);\r\n  width: 79.466667vw;\r\n  padding-bottom: 10.666667vw;\r\n}\r\n.category-title {\r\n  margin-left: 2.666667vw;\r\n  padding: 2vw 8vw 2vw 0;\r\n  display: flex;\r\n  align-items: center;\r\n  overflow: hidden;\r\n}\r\n.category-title strong {\r\n  margin-right: 1.333333vw;\r\n  font-weight: 700;\r\n  font-size: 0.8rem;\r\n  color: #666;\r\n  flex: none;\r\n}\r\n.category-title span {\r\n  flex: 1;\r\n  color: #999;\r\n  font-size: 0.6rem;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n.fooddetails {\r\n  min-height: 30.666667vw;\r\n  padding: 2.666667vw 0 2.666667vw 2.666667vw;\r\n  margin-bottom: 0.133333vw;\r\n  display: flex;\r\n}\r\n.fooddetails img {\r\n  width: 25.333333vw;\r\n  height: 25.333333vw;\r\n  flex: none;\r\n  margin-right: 2.666667vw;\r\n  border-radius: 0.533333vw;\r\n}\r\n.fooddetails-info {\r\n  flex: 1;\r\n  padding-bottom: 6.666667vw;\r\n  padding-right: 4vw;\r\n}\r\n.fooddetails-info h4 {\r\n  padding-right: 4vw;\r\n  font-weight: 700;\r\n  overflow: hidden;\r\n  font-size: 1rem;\r\n  white-space: nowrap;\r\n  width: 40vw;\r\n  text-overflow: ellipsis;\r\n  color: #333;\r\n}\r\n.fooddetails-des {\r\n  margin: 1.333333vw 0;\r\n  font-size: 0.6rem;\r\n  color: #999;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  width: 42.666667vw;\r\n}\r\n.fooddetails-sales {\r\n  margin: 1.733333vw 0 !important;\r\n  color: #999;\r\n  font-size: 0.6rem;\r\n  line-height: 1;\r\n  min-height: 1em;\r\n}\r\n.fooddetails-price {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-top: 3.733333vw;\r\n}\r\n.fooddetails-price .price {\r\n  font-size: 1rem;\r\n  line-height: 4.266667vw;\r\n  color: #ff5339;\r\n  padding-bottom: 0.933333vw;\r\n  display: flex;\r\n  align-items: baseline;\r\n}\r\n\r\n.menu-wrapper .current {\r\n  background-color: #fff !important;\r\n  color: #333 !important;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Goods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Goods.vue?vue&type=template&id=50f4da71&scoped=true&\"\nimport script from \"./Goods.vue?vue&type=script&lang=js&\"\nexport * from \"./Goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Goods.vue?vue&type=style&index=0&id=50f4da71&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50f4da71\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Food.vue?vue&type=style&index=0&id=d07fb964&scoped=true&lang=css&\""],"sourceRoot":""}