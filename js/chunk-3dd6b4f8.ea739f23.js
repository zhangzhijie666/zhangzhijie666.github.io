(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3dd6b4f8"],{"0418":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isLeft,expression:"isLeft"}],staticClass:"header-button is-left"},[n("i",{staticClass:"fa fa-chevron-left"}),n("button",{on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")])]),n("h1",{staticClass:"header-title"},[t._v(t._s(t.title))])])},s=[],r={name:"Header",props:{title:String,isLeft:{type:Boolean,default:!1}},setup:function(t,e){e.root;return{}}},o=r,i=(n("7817"),n("2877")),c=Object(i["a"])(o,a,s,!1,null,"2d15fc2c",null);e["a"]=c.exports},"16c2":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pay"},[n("Header",{attrs:{title:"在线支付"}}),t.orderInfo?n("div",{staticClass:"main"},[n("div",{staticClass:"tip"},[n("p",{staticClass:"countdown-title"},[t._v("支付剩余时间")]),n("h3",{staticClass:"countdown-text"},[t._v(t._s(t.countDown))])]),n("section",{staticClass:"home"},[n("ul",{staticClass:"list info-list"},[n("li",[n("span",{staticClass:"order-name"},[t._v(t._s(t.orderInfo.shopInfo.name))]),n("span",{staticClass:"text-highlight"},[t._v("￥"+t._s(t.totalPrice))])])]),n("div",{staticClass:"title"},[t._v("在线支付")]),t._m(0)]),n("button",{staticClass:"btn-submit",attrs:{disabled:t.data.timeOut}},[t._v("确认支付")])]):t._e()],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"list payment-list"},[a("li",{staticClass:"payment-list-item"},[a("div",{staticClass:"icon"},[a("img",{attrs:{src:n("68de"),alt:""}}),a("span",[t._v("微信")])]),a("i",{staticClass:"fa fa-check-circle selected"})])])}],r=(n("d3b7"),n("25f0"),n("0418")),o=n("a6f4"),i=n("bc3a"),c=n.n(i),u={name:"Pay",components:{Header:r["a"]},beforeRouteEnter:function(t,e,n){n((function(t){t.countTimeDown()}))},setup:function(t,e){var n=e.root,a=Object(o["f"])("00:15:00"),s=Object(o["e"])({timer:null,timeOut:!1}),r=Object(o["a"])((function(){return n.$store.getters.orderInfo})),i=Object(o["a"])((function(){return n.$store.getters.totalPrice})),u=Object(o["a"])((function(){return n.$store.getters.userInfo})),l=Object(o["a"])((function(){return n.$store.getters.remarkInfo})),f=function(){var t=14,e=59;s.timer=setInterval((function(){if(e--,"00"==e&&"00"==t)return a.value="订单已超时",clearInterval(s.timer),void(s.timeOut=!0);"00"==e&&(e=59,t--,t<10&&(t="0"+t)),e<10&&(e="0"+e),a.value="00:"+t+":"+e}),1e3)},d=function(){var t={body:"筱杰在线",out_trade_no:(new Date).getTime().toString(),total_fee:1};alert("进入待pay"),fetch("http://www.thenewstep.cn/wxzf/example/jsapi.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.json()})).then((function(t){p(t)})).catch((function(t){alert("请求失败")}))},p=function(t){WeixinJSBridge.invoke("getBrandWCPayRequest",t,(function(t){"get_brand_wcpay_request:ok"==t.err_msg&&v()}))},v=function(){console.log(r);var t={orderInfo:r,userInfo:u,totalPrice:i,remarkInfo:l};c.a.post("/api/user/add_order/".concat(localStorage.ele_login),t).then((function(t){console.log(t),n.$router.push("/order")}))};return{data:s,orderInfo:r,totalPrice:i,countTimeDown:f,countDown:a,onBridgeReady:p,userInfo:u,remarkInfo:l,addOrder:v,pay:d}}},l=u,f=(n("c2dd"),n("2877")),d=Object(f["a"])(l,a,s,!1,null,"2d66d7d8",null);e["default"]=d.exports},"25f0":function(t,e,n){"use strict";var a=n("6eeb"),s=n("825a"),r=n("d039"),o=n("ad6d"),i="toString",c=RegExp.prototype,u=c[i],l=r((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),f=u.name!=i;(l||f)&&a(RegExp.prototype,i,(function(){var t=s(this),e=String(t.source),n=t.flags,a=String(void 0===n&&t instanceof RegExp&&!("flags"in c)?o.call(t):n);return"/"+e+"/"+a}),{unsafe:!0})},"2c93":function(t,e,n){},"68de":function(t,e,n){t.exports=n.p+"img/wechart.0055285e.jpg"},7817:function(t,e,n){"use strict";n("2c93")},c2dd:function(t,e,n){"use strict";n("e756")},e756:function(t,e,n){}}]);
//# sourceMappingURL=chunk-3dd6b4f8.ea739f23.js.map